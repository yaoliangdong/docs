# CentOS自动备份文件

**crontab定时器：**

添加一个作业：
```
$ crontab –e 
```
```
0 0 * * 0 sh /mnt/shell/esign.sh
0 */2 * * * sh /mnt/shell/mysql.sh
```
显示作业任务：
```
$ crontab –l 
```
删除作业任务：
```
$ crontab –r 
```
`esign.sh`备份文件夹中的内容:
```
#!/bin/bash
ttime=`date +%Y-%m-%d-%H-%M-%S`
tar -zcPf /mnt/backup/esign-$ttime.tar /esign/server/
tar -zcPf /mnt/backup/esign-sql-$ttime.tar /esign/sql/
tar -zcPf /mnt/backup/esign-soft-$ttime.tar /esign/soft/
```
`mysql.sh`备份数据库脚本:
```
#!/bin/bash
gtime=`date +%Y-%m-%d-%H-%M-%S`
mysqldump -uroot -p'123456'  --databases esignpro_service file_system openras openseal quartz> /mnt/backup/esign/mysql-$gtime.sql
```